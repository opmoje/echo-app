# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å OAuth

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ OAuth scopes:**
   - `pages_show_list` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ Facebook Pages
   - `business_management` - –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Instagram Business API

2. **–£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ OAuth
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö Pages
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö Instagram –∞–∫–∫–∞—É–Ω—Ç–∞—Ö

3. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
   - –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–∏

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –®–∞–≥ 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π backend (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:

```bash
cd backend
npm run dev
```

### –®–∞–≥ 2: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –°—Ç–∞—Ä—ã–π access token –ù–ï –∏–º–µ–µ—Ç –Ω–æ–≤—ã—Ö permissions!

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:5173
2. –ù–∞–∂–º–∏—Ç–µ **"–ü–æ–¥–∫–ª—é—á–∏—Ç—å Instagram"**
3. –í—ã —É–≤–∏–¥–∏—Ç–µ —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Facebook —Å **–ù–û–í–´–ú–ò —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏**
4. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ —á—Ç–æ —Ç–µ–ø–µ—Ä—å –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ permissions
5. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ backend

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ backend –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
üîê OAuth Callback received
üìù Code received: Yes
üîÑ Exchanging code for access token...

üîç Starting Instagram Account ID lookup...
üìù User Access Token: xxxxx...
üì° Requesting Facebook Pages from /me/accounts...
üìÑ Pages API Response: { ... }
üìä Number of pages found: X

‚úÖ Found Facebook Page: "Your Page Name" (ID: xxxxx)
üì° Requesting Instagram Business Account for this page...
üìÑ Instagram Account Response: { ... }
‚úÖ Successfully found Instagram Business Account ID: xxxxx
üéâ OAuth flow completed successfully!
```

### –®–∞–≥ 4: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

#### –ü—Ä–æ–±–ª–µ–º–∞: "No Facebook Pages found"

**–õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç:**
```
üìä Number of pages found: 0
‚ùå No Facebook Pages found!
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å Facebook Page
2. –°–æ–∑–¥–∞–π—Ç–µ Page: https://www.facebook.com/pages/create
3. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

#### –ü—Ä–æ–±–ª–µ–º–∞: "No Instagram Business Account linked"

**–õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç:**
```
‚úÖ Found Facebook Page: "Your Page" (ID: xxxxx)
üìÑ Instagram Account Response: { "id": "xxxxx" }
‚ùå No Instagram Business Account linked to this Facebook Page!
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Instagram ‚Üí Settings ‚Üí Account
2. Switch to Professional Account
3. –í—ã–±–µ—Ä–∏—Ç–µ Business –∏–ª–∏ Creator
4. Settings ‚Üí Business ‚Üí Page
5. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫ –≤–∞—à–µ–π Facebook Page
6. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

#### –ü—Ä–æ–±–ª–µ–º–∞: Pages API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç

**–õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç –¥–µ—Ç–∞–ª–∏:**
```
üìÑ Pages API Response: {
  "data": []
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ permissions (–Ω–æ –º—ã –∏—Ö –¥–æ–±–∞–≤–∏–ª–∏!)
2. –í–∞—à Facebook –∞–∫–∫–∞—É–Ω—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–æ–º –Ω–∏ –æ–¥–Ω–æ–π Page
3. OAuth —Ç–æ–∫–µ–Ω –µ—â–µ —Å—Ç–∞—Ä—ã–π (–Ω—É–∂–Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –∞–¥–º–∏–Ω –≤–∞—à–µ–π Facebook Page
2. –ü–æ–≤—Ç–æ—Ä–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —Å –Ω–æ–≤—ã–º–∏ scopes
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ Facebook App —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –æ–¥–æ–±—Ä–µ–Ω—ã

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

**–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ backend:**
```
‚úÖ Successfully authenticated!
üîë Access Token obtained
üì± Instagram Account ID: 17841XXXXXXXXXX
```

**–í –±—Ä–∞—É–∑–µ—Ä–µ:**
```
‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ!
Instagram Account ID: 17841XXXXXXXXXX
‚óè –ë–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω
```

## üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

–ü—Ä–∏—à–ª–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–ª–∏ –∫–æ–ø–∏—é –ª–æ–≥–æ–≤ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ backend, –æ—Å–æ–±–µ–Ω–Ω–æ —á–∞—Å—Ç—å:

```
üìÑ Pages API Response: { ... }
üìÑ Instagram Account Response: { ... }
```

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É!
